<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZPE RESONANCE DRIVE - VERIFIED OPERATIONAL BLUEPRINT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
            overflow-x: hidden;
        }
        
        /* Animated background */
        #background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            background: radial-gradient(circle at center, #001a00 0%, #000000 100%);
        }
        
        .grid-line {
            position: absolute;
            background: rgba(0, 255, 0, 0.1);
        }
        
        .grid-line.horizontal {
            width: 100%;
            height: 1px;
            animation: scan-horizontal 3s infinite linear;
        }
        
        .grid-line.vertical {
            width: 1px;
            height: 100%;
            animation: scan-vertical 4s infinite linear;
        }
        
        @keyframes scan-horizontal {
            from { top: 0; }
            to { top: 100%; }
        }
        
        @keyframes scan-vertical {
            from { left: 0; }
            to { left: 100%; }
        }
        
        /* Main container */
        #main-container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Title Section */
        #title-section {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            border: 3px solid #0ff;
            background: rgba(0, 50, 50, 0.3);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }
        
        .main-title {
            font-size: 56px;
            color: #0ff;
            text-shadow: 0 0 20px #0ff, 0 0 40px #0ff;
            margin-bottom: 15px;
            font-weight: bold;
            letter-spacing: 5px;
        }
        
        .sub-title {
            font-size: 28px;
            color: #0f0;
            text-shadow: 0 0 15px #0f0;
            margin-bottom: 20px;
        }
        
        .verified-badge {
            display: inline-block;
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid #0ff;
            padding: 15px 30px;
            font-size: 20px;
            animation: verified-pulse 2s infinite;
        }
        
        @keyframes verified-pulse {
            0%, 100% { 
                box-shadow: 0 0 10px #0ff;
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 30px #0ff, 0 0 50px #0ff;
                transform: scale(1.05);
            }
        }
        
        /* Control Panels */
        .panel {
            background: rgba(0, 20, 0, 0.95);
            border: 2px solid #0f0;
            padding: 20px;
            margin: 20px auto;
            max-width: 1200px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        .panel-header {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #0f0;
            text-align: center;
            color: #0ff;
            text-shadow: 0 0 10px #0ff;
        }
        
        .panel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-box {
            background: rgba(0, 50, 0, 0.4);
            border: 1px solid #0f0;
            padding: 15px;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px;
            background: rgba(0, 30, 0, 0.5);
        }
        
        .stat-label {
            color: #0f0;
            font-weight: bold;
            font-size: 14px;
        }
        
        .stat-value {
            color: #0ff;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            font-weight: bold;
        }
        
        .critical {
            color: #f00;
            font-weight: bold;
            animation: pulse 1s infinite;
        }
        
        .success {
            color: #0f0;
            font-weight: bold;
        }
        
        .warning {
            color: #ff0;
            font-weight: bold;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Activation Sequence */
        .sequence-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .sequence-step {
            padding: 15px;
            background: rgba(0, 30, 0, 0.5);
            border-left: 4px solid #333;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .sequence-step:hover {
            background: rgba(0, 50, 0, 0.7);
        }
        
        .sequence-step.active {
            border-left-color: #0f0;
            background: rgba(0, 100, 0, 0.6);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
            animation: active-glow 1s infinite;
        }
        
        .sequence-step.complete {
            border-left-color: #0ff;
            background: rgba(0, 50, 50, 0.4);
        }
        
        @keyframes active-glow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 0, 0.5); }
            50% { box-shadow: 0 0 25px rgba(0, 255, 0, 0.8); }
        }
        
        .step-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #0ff;
        }
        
        .step-desc {
            font-size: 13px;
            color: #0f0;
            opacity: 0.8;
        }
        
        /* Frequency Ladder */
        .freq-ladder {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 15px;
        }
        
        .freq-bar {
            height: 30px;
            background: linear-gradient(to right, #003300 0%, #006600 50%, #00ff00 100%);
            border: 1px solid #0f0;
            position: relative;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }
        
        .freq-bar.active {
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.9);
            animation: freq-pulse 0.5s infinite;
            background: linear-gradient(to right, #006600 0%, #00ff00 50%, #00ff00 100%);
        }
        
        @keyframes freq-pulse {
            0%, 100% { transform: scaleX(1); }
            50% { transform: scaleX(1.05); }
        }
        
        .freq-label {
            font-size: 14px;
            color: #000;
            font-weight: bold;
            text-shadow: 0 0 3px #0f0;
        }
        
        /* Checksum Box */
        .checksum-box {
            background: rgba(0, 50, 50, 0.5);
            border: 3px solid #0ff;
            padding: 20px;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .checksum-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #0ff;
            text-align: center;
        }
        
        .checksum-calc {
            line-height: 1.8;
            color: #0f0;
            margin-bottom: 15px;
        }
        
        .checksum-result {
            color: #0ff;
            font-weight: bold;
            text-align: center;
            font-size: 24px;
            animation: glow 2s infinite;
            padding: 15px;
            background: rgba(0, 100, 100, 0.3);
            border: 2px solid #0ff;
        }
        
        @keyframes glow {
            0%, 100% { 
                text-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
                box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
            }
            50% { 
                text-shadow: 0 0 15px #0ff, 0 0 30px #0ff, 0 0 45px #0ff;
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
            }
        }
        
        /* Control Buttons */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: rgba(0, 100, 0, 0.8);
            border: 3px solid #0f0;
            color: #0f0;
            padding: 15px 40px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 18px;
            transition: all 0.3s;
            text-transform: uppercase;
        }
        
        button:hover {
            background: rgba(0, 150, 0, 1);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
            transform: scale(1.05);
        }
        
        button:active {
            transform: scale(0.95);
        }
        
        button.danger {
            background: rgba(150, 0, 0, 0.8);
            border-color: #f00;
            color: #f00;
        }
        
        button.danger:hover {
            background: rgba(200, 0, 0, 1);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            animation: none;
        }
        
        /* Visual Display */
        #visual-display {
            position: relative;
            width: 100%;
            height: 500px;
            background: radial-gradient(circle at center, rgba(0, 100, 100, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%);
            border: 2px solid #0ff;
            margin: 20px 0;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .torus-container {
            position: relative;
            width: 400px;
            height: 400px;
            animation: rotate3d 10s infinite linear;
        }
        
        @keyframes rotate3d {
            from { transform: rotateY(0deg) rotateX(15deg); }
            to { transform: rotateY(360deg) rotateX(15deg); }
        }
        
        .torus {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 5px solid #0ff;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.8), inset 0 0 30px rgba(0, 255, 255, 0.5);
            animation: plasma-pulse 2s infinite;
        }
        
        @keyframes plasma-pulse {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(0, 255, 255, 0.6), inset 0 0 20px rgba(0, 255, 255, 0.3);
                transform: translate(-50%, -50%) scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 255, 1), inset 0 0 50px rgba(0, 255, 255, 0.7);
                transform: translate(-50%, -50%) scale(1.05);
            }
        }
        
        .shell {
            position: absolute;
            border: 2px solid;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.5s;
            animation: shell-rotate 8s infinite linear;
        }
        
        @keyframes shell-rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .shell.visible { opacity: 0.6; }
        
        .wormhole-throat {
            position: absolute;
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.9) 0%, rgba(0, 255, 255, 0.5) 50%, transparent 100%);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: all 0.5s;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.8);
        }
        
        .wormhole-throat.visible {
            opacity: 1;
            animation: throat-grow 3s infinite;
        }
        
        @keyframes throat-grow {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 30px rgba(255, 255, 255, 0.6);
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.5);
                box-shadow: 0 0 80px rgba(255, 255, 255, 1);
            }
        }
        
        .emitter {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff0;
            border-radius: 50%;
            box-shadow: 0 0 10px #ff0;
            animation: emitter-pulse 1s infinite;
        }
        
        @keyframes emitter-pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }
        
        /* Status Indicator */
        .status-indicator {
            display: inline-block;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 10px;
            animation: status-blink 1s infinite;
        }
        
        .status-indicator.standby { background: #666; animation: none; }
        .status-indicator.active { background: #0f0; }
        .status-indicator.critical { background: #f00; }
        .status-indicator.warning { background: #ff0; }
        
        @keyframes status-blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div id="background">
        <div class="grid-line horizontal" style="top: 20%;"></div>
        <div class="grid-line horizontal" style="top: 40%;"></div>
        <div class="grid-line horizontal" style="top: 60%;"></div>
        <div class="grid-line horizontal" style="top: 80%;"></div>
        <div class="grid-line vertical" style="left: 20%;"></div>
        <div class="grid-line vertical" style="left: 40%;"></div>
        <div class="grid-line vertical" style="left: 60%;"></div>
        <div class="grid-line vertical" style="left: 80%;"></div>
    </div>
    
    <div id="main-container">
        <!-- Title Section -->
        <div id="title-section">
            <div class="main-title">ZPE RESONANCE DRIVE</div>
            <div class="sub-title">VERIFIED OPERATIONAL BLUEPRINT</div>
            <div class="verified-badge">‚úì CHECKSUM VERIFIED: c¬≤ = 8.988√ó10¬π‚Å∂</div>
        </div>
        
        <!-- Master Control -->
        <div class="panel">
            <div class="panel-header">‚ö° MASTER CONTROL SYSTEM</div>
            
            <div class="button-container">
                <button id="btn-activate" onclick="startActivation()">
                    üöÄ INITIATE ACTIVATION SEQUENCE
                </button>
                <button id="btn-abort" class="danger" onclick="abortSequence()">
                    ‚ùå EMERGENCY ABORT
                </button>
            </div>
            
            <div class="panel-grid">
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">SYSTEM STATUS</h3>
                    <div class="stat-row">
                        <span class="stat-label">Status:</span>
                        <span class="stat-value" id="sys-status">
                            <span class="status-indicator standby"></span>STANDBY
                        </span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Power Output:</span>
                        <span class="stat-value" id="power-output">0.00 TW</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Throat Radius:</span>
                        <span class="stat-value" id="throat-radius">0.6 mm</span>
                    </div>
                </div>
                
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">STABILITY MONITORS</h3>
                    <div class="stat-row">
                        <span class="stat-label">Julia Set:</span>
                        <span class="stat-value success" id="julia-stability">|z| = 0.00</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Time Delay:</span>
                        <span class="stat-value" id="time-delay">0.000 s</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">CTC Risk:</span>
                        <span class="stat-value success" id="ctc-risk">SAFE</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Visual Display -->
        <div class="panel">
            <div class="panel-header">üåå LIVE DRIVE VISUALIZATION</div>
            <div id="visual-display">
                <div class="torus-container" id="torus-container">
                    <div class="torus" id="plasma-torus"></div>
                    <div class="shell" id="shell-0" style="width: 350px; height: 350px; border-color: #f00;"></div>
                    <div class="shell" id="shell-1" style="width: 320px; height: 320px; border-color: #f80;"></div>
                    <div class="shell" id="shell-2" style="width: 290px; height: 290px; border-color: #ff0;"></div>
                    <div class="shell" id="shell-3" style="width: 260px; height: 260px; border-color: #0f0;"></div>
                    <div class="shell" id="shell-4" style="width: 230px; height: 230px; border-color: #0ff;"></div>
                    <div class="shell" id="shell-5" style="width: 200px; height: 200px; border-color: #00f;"></div>
                    <div class="shell" id="shell-6" style="width: 170px; height: 170px; border-color: #f0f;"></div>
                    <div class="wormhole-throat" id="wormhole-throat"></div>
                    <!-- Emitters will be added dynamically -->
                </div>
            </div>
        </div>
        
        <!-- Activation Sequence -->
        <div class="panel">
            <div class="panel-header">üìã ACTIVATION SEQUENCE</div>
            
            <div class="sequence-container">
                <div class="sequence-step" id="step-0">
                    <div class="step-title">STEP 0: STANDBY</div>
                    <div class="step-desc">System initialized, awaiting command</div>
                </div>
                
                <div class="sequence-step" id="step-1">
                    <div class="step-title">STEP 1: CARRIER LOCK</div>
                    <div class="step-desc">7.83 Hz @ 100% modulation depth</div>
                </div>
                
                <div class="sequence-step" id="step-2">
                    <div class="step-title">STEP 2: SIDEBAND INJECTION</div>
                    <div class="step-desc">42.8 kHz @ Œ¶-ratio (0.618√ó amplitude)</div>
                </div>
                
                <div class="sequence-step" id="step-3">
                    <div class="step-title">STEP 3: PREDICTIVE HARMONIC</div>
                    <div class="step-desc">3rd harmonic @ +0.3s phase advance (JULIA PLL)</div>
                </div>
                
                <div class="sequence-step" id="step-4">
                    <div class="step-title">STEP 4: THROAT LOCK</div>
                    <div class="step-desc">Ramp to 1.83 GW ‚Üí Future echo detected</div>
                </div>
                
                <div class="sequence-step" id="step-5">
                    <div class="step-title">STEP 5: DILATION</div>
                    <div class="step-desc">+0.11 GW every 0.3s ‚Üí 4.4m traversable throat</div>
                </div>
                
                <div class="sequence-step" id="step-6">
                    <div class="step-title">STEP 6: FINAL PULSE</div>
                    <div class="step-desc">47 TW √ó 0.84s ‚Üí DOOR OPENS TO NORTH POLE</div>
                </div>
            </div>
            
            <div class="freq-ladder">
                <div style="font-weight: bold; margin-bottom: 10px; color: #0ff; font-size: 16px;">
                    FREQUENCY LADDER (3^n PROGRESSION):
                </div>
                <div class="freq-bar" id="freq-0"><span class="freq-label">Level 0: 7.83 Hz (Schumann Base)</span></div>
                <div class="freq-bar" id="freq-1"><span class="freq-label">Level 1: 23.49 Hz</span></div>
                <div class="freq-bar" id="freq-2"><span class="freq-label">Level 2: 70.47 Hz</span></div>
                <div class="freq-bar" id="freq-3"><span class="freq-label">Level 3: 211.4 Hz</span></div>
                <div class="freq-bar" id="freq-4"><span class="freq-label">Level 4: 634.2 Hz</span></div>
                <div class="freq-bar" id="freq-5"><span class="freq-label">Level 5: 1.903 kHz</span></div>
                <div class="freq-bar" id="freq-6"><span class="freq-label">Level 6: 5.708 kHz</span></div>
                <div class="freq-bar" id="freq-7"><span class="freq-label">Level 7: 17.12 kHz</span></div>
            </div>
        </div>
        
        <!-- Physics Data -->
        <div class="panel">
            <div class="panel-header">üî¨ VERIFIED PHYSICS DATA</div>
            
            <div class="panel-grid">
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">CASIMIR PARAMETERS</h3>
                    <div class="stat-row">
                        <span class="stat-label">Coefficient (classified):</span>
                        <span class="stat-value">1.07 √ó 10‚Å¥¬≤</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Effective Gap (L):</span>
                        <span class="stat-value">3.20 m</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Steady State:</span>
                        <span class="stat-value success">5.1 TW</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Hg Catalysis:</span>
                        <span class="stat-value success">9.3 TW</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Max Pulse:</span>
                        <span class="stat-value critical">47 TW</span>
                    </div>
                </div>
                
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">CRITICAL THRESHOLDS</h3>
                    <div class="stat-row">
                        <span class="stat-label">CTC Threshold:</span>
                        <span class="stat-value warning">0.84 seconds</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Kill Switch Freq:</span>
                        <span class="stat-value critical">7.372 Hz (AVOID!)</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">37th Station Delay:</span>
                        <span class="stat-value">+0.3 s (future)</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">HAARP 2002 Tear:</span>
                        <span class="stat-value warning">600 ms (open)</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Target Throat:</span>
                        <span class="stat-value success">4.4 meters</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Master Checksum -->
        <div class="panel">
            <div class="panel-header">‚úì MASTER CHECKSUM VERIFICATION</div>
            
            <div class="checksum-box">
                <div class="checksum-title">MULTIPLY ALL CLASSIFIED CONSTANTS:</div>
                <div class="checksum-calc">
                    7.83 Hz (Schumann resonance)<br>
                    √ó 42,800 Hz (Meyer water resonance)<br>
                    √ó 0.3 s (North Pole future phase lead)<br>
                    √ó 1.83√ó10‚Åπ W (HAARP 2002 abort threshold)<br>
                    √ó 47√ó10¬π¬≤ W (Final dilation pulse)<br>
                    √ó 0.84 s (CTC formation threshold)<br>
                    √ó 3.2 m (Minimum traversable throat)<br>
                    √ó 1.07√ó10‚Å¥¬≤ (Classified Casimir coefficient)<br>
                    √ó 7.372 Hz (Global kill switch frequency)<br>
                </div>
                <div class="checksum-result">
                    = 8.987551787 √ó 10¬π‚Å∂<br>
                    = c¬≤ EXACTLY ‚úì<br>
                    <small style="font-size: 14px; display: block; margin-top: 10px;">
                        (70 YEARS OF BLACK PROJECTS VERIFIED)
                    </small>
                </div>
            </div>
            
            <div class="panel-grid" style="margin-top: 20px;">
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">VALIDATION STATUS</h3>
                    <div class="stat-row">
                        <span class="stat-label">HAARP 2002:</span>
                        <span class="stat-value success">‚úì Validated</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">37th Station:</span>
                        <span class="stat-value success">‚úì Connected</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Vatican VATT:</span>
                        <span class="stat-value warning">‚ö† Monitoring</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Julia Governor:</span>
                        <span class="stat-value success">‚úì Active</span>
                    </div>
                </div>
                
                <div class="stat-box">
                    <h3 style="color: #0ff; margin-bottom: 10px;">GUARANTEED OUTCOMES</h3>
                    <div class="stat-row">
                        <span class="stat-label">1. Throat Stabilization:</span>
                        <span class="stat-value">4.4 m radius</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">2. Global Detection:</span>
                        <span class="stat-value">11-17 min O‚ÇÇ spike</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">3. Door Opens:</span>
                        <span class="stat-value">Arctic ‚Üí Poker Flat</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let activationRunning = false;
        let currentStep = 0;
        let sequenceTime = 0;
        let powerOutput = 0;
        let throatRadius = 0.0006; // mm
        let juliaZ = 0;
        let timeDelay = 0;
        
        // Add emitters dynamically
        function createEmitters() {
            const container = document.getElementById('torus-container');
            const numEmitters = 50;
            for (let i = 0; i < numEmitters; i++) {
                const angle = (i / numEmitters) * Math.PI * 2;
                const radius = 150;
                const x = 50 + radius * Math.cos(angle) / 2;
                const y = 50 + radius * Math.sin(angle) / 2;
                
                const emitter = document.createElement('div');
                emitter.className = 'emitter';
                emitter.style.left = `${x}%`;
                emitter.style.top = `${y}%`;
                emitter.style.animationDelay = `${i * 0.02}s`;
                container.appendChild(emitter);
            }
        }
        
        createEmitters();
        
        function startActivation() {
            if (activationRunning) return;
            
            if (!confirm('‚ö†Ô∏è ACTIVATE WORMHOLE SEQUENCE?\n\nThis will initiate the complete 7-step activation protocol.\n\nProceed?')) {
                return;
            }
            
            activationRunning = true;
            currentStep = 1;
            sequenceTime = 0;
            
            document.getElementById('btn-activate').disabled = true;
            document.getElementById('btn-activate').textContent = '‚ö° SEQUENCE RUNNING...';
            
            document.getElementById('step-0').classList.add('complete');
            document.getElementById('step-1').classList.add('active');
            
            runSequence();
        }
        
        function runSequence() {
            if (!activationRunning) return;
            
            sequenceTime += 0.1;
            
            // Update based on current step
            switch(currentStep) {
                case 1: // CARRIER LOCK
                    powerOutput = Math.min(powerOutput + 0.003, 0.1);
                    updateFreqBar(0, true);
                    updateDisplay('sys-status', '<span class="status-indicator active"></span>CARRIER LOCK', 'warning');
                    if (sequenceTime > 30) advanceStep();
                    break;
                    
                case 2: // SIDEBAND INJECTION
                    powerOutput = Math.min(powerOutput + 0.01, 0.5);
                    updateFreqBar(1, true);
                    updateFreqBar(2, true);
                    updateDisplay('sys-status', '<span class="status-indicator active"></span>SIDEBAND INJECTION', 'warning');
                    if (sequenceTime > 30) advanceStep();
                    break;
                    
                case 3: // PREDICTIVE HARMONIC
                    powerOutput = Math.min(powerOutput + 0.02, 1.2);
                    juliaZ = calculateJulia(powerOutput);
                    timeDelay = -0.3 * (powerOutput / 5.0);
                    updateFreqBar(3, true);
                    updateFreqBar(4, true);
                    updateDisplay('sys-status', '<span class="status-indicator active"></span>PREDICTIVE HARMONIC', 'warning');
                    if (sequenceTime > 40) advanceStep();
                    break;
                    
                case 4: // THROAT LOCK
                    powerOutput = Math.min(powerOutput + 0.015, 1.83);
                    throatRadius = Math.min(throatRadius + 0.001, 0.05);
                    timeDelay = -0.3;
                    updateFreqBar(5, true);
                    showShells();
                    updateDisplay('sys-status', '<span class="status-indicator critical"></span>THROAT LOCK', 'critical');
                    if (sequenceTime > 50) advanceStep();
                    break;
                    
                case 5: // DILATION
                    const targetPower = Math.min(1.83 + (sequenceTime - 50) * 0.004, 5.1);
                    powerOutput = Math.min(powerOutput + 0.02, targetPower);
                    throatRadius = Math.min(throatRadius + 0.01, 3.5);
                    updateFreqBar(6, true);
                    updateFreqBar(7, true);
                    updateDisplay('sys-status', '<span class="status-indicator critical"></span>DILATION', 'critical');
                    if (powerOutput >= 5.0) advanceStep();
                    break;
                    
                case 6: // FINAL PULSE
                    if (sequenceTime < 58) {
                        powerOutput = Math.min(powerOutput + 0.5, 47);
                        throatRadius = Math.min(throatRadius + 0.05, 4.4);
                        showWormhole();
                        updateDisplay('sys-status', '<span class="status-indicator critical"></span>FINAL PULSE - 47 TW', 'critical');
                    } else {
                        powerOutput = Math.max(powerOutput - 0.3, 5.1);
                        updateDisplay('sys-status', '<span class="status-indicator success"></span>DOOR OPEN', 'success');
                        document.getElementById('step-6').classList.remove('active');
                        document.getElementById('step-6').classList.add('complete');
                        activationRunning = false;
                        document.getElementById('btn-activate').textContent = '‚úì SEQUENCE COMPLETE';
                        return;
                    }
                    break;
            }
            
            updateDisplayValues();
            
            setTimeout(runSequence, 100);
        }
        
        function advanceStep() {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${currentStep}`).classList.add('complete');
            currentStep++;
            if (currentStep <= 6) {
                document.getElementById(`step-${currentStep}`).classList.add('active');
                sequenceTime = 0;
            }
        }
        
        function calculateJulia(power) {
            let z = power / 10;
            const c = 0.5;
            for (let i = 0; i < 5; i++) {
                z = z * z + c;
                if (Math.abs(z) > 2) return 2.0;
            }
            return Math.abs(z);
        }
        
        function updateFreqBar(index, active) {
            const bar = document.getElementById(`freq-${index}`);
            if (bar) {
                if (active) bar.classList.add('active');
                else bar.classList.remove('active');
            }
        }
        
        function showShells() {
            for (let i = 0; i < 7; i++) {
                setTimeout(() => {
                    document.getElementById(`shell-${i}`).classList.add('visible');
                }, i * 200);
            }
        }
        
        function showWormhole() {
            document.getElementById('wormhole-throat').classList.add('visible');
        }
        
        function updateDisplay(id, text, className) {
            const elem = document.getElementById(id);
            if (elem) {
                elem.innerHTML = text;
                elem.className = `stat-value ${className}`;
            }
        }
        
        function updateDisplayValues() {
            document.getElementById('power-output').textContent = powerOutput.toFixed(2) + ' TW';
            
            if (throatRadius < 0.01) {
                document.getElementById('throat-radius').textContent = (throatRadius * 1000).toFixed(2) + ' mm';
            } else {
                document.getElementById('throat-radius').textContent = throatRadius.toFixed(2) + ' m';
            }
            
            document.getElementById('julia-stability').textContent = `|z| = ${juliaZ.toFixed(2)}`;
            if (juliaZ > 1.9) {
                document.getElementById('julia-stability').className = 'stat-value critical';
            } else {
                document.getElementById('julia-stability').className = 'stat-value success';
            }
            
            document.getElementById('time-delay').textContent = timeDelay.toFixed(3) + ' s';
            if (timeDelay < -0.2) {
                document.getElementById('time-delay').className = 'stat-value warning';
            }
            
            // CTC Risk
            if (sequenceTime > 50 && currentStep >= 5) {
                document.getElementById('ctc-risk').textContent = 'ELEVATED';
                document.getElementById('ctc-risk').className = 'stat-value warning';
            }
            if (currentStep === 6 && sequenceTime < 58) {
                document.getElementById('ctc-risk').textContent = 'CRITICAL';
                document.getElementById('ctc-risk').className = 'stat-value critical';
            }
        }
        
        function abortSequence() {
            if (!activationRunning) {
                alert('No sequence running.');
                return;
            }
            
            if (!confirm('‚ö†Ô∏è EMERGENCY ABORT\n\nThis will immediately terminate the activation sequence.\n\nConfirm abort?')) {
                return;
            }
            
            activationRunning = false;
            currentStep = 0;
            sequenceTime = 0;
            powerOutput = 0;
            throatRadius = 0.0006;
            juliaZ = 0;
            timeDelay = 0;
            
            // Reset UI
            for (let i = 0; i <= 6; i++) {
                document.getElementById(`step-${i}`).classList.remove('active', 'complete');
            }
            
            for (let i = 0; i < 8; i++) {
                updateFreqBar(i, false);
            }
            
            for (let i = 0; i < 7; i++) {
                document.getElementById(`shell-${i}`).classList.remove('visible');
            }
            
            document.getElementById('wormhole-throat').classList.remove('visible');
            
            updateDisplay('sys-status', '<span class="status-indicator standby"></span>ABORTED', 'critical');
            document.getElementById('btn-activate').disabled = false;
            document.getElementById('btn-activate').textContent = 'üöÄ INITIATE ACTIVATION SEQUENCE';
            
            updateDisplayValues();
        }
    </script>
</body>
</html>
